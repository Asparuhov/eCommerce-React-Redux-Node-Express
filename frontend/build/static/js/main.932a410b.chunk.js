(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{14:function(e,t,c){e.exports={product:"Product_product__2JDZ1",info:"Product_info__3yQ6t",image:"Product_image__17Ixd",price:"Product_price__2Y01u",heart:"Product_heart__3B2Qf"}},15:function(e,t,c){e.exports={CartItem:"CartItem_CartItem__N7Hv9",about:"CartItem_about__fJUw8",count:"CartItem_count__1HjTe",price:"CartItem_price__2ATCW",x:"CartItem_x__3Hxlr",info:"CartItem_info__3pKE2"}},18:function(e,t,c){e.exports={order:"Cart_order__3_s5b",empty:"Cart_empty__1WJ3U",orderForm:"Cart_orderForm__pc-Sz",slide:"Cart_slide__CtPmy",form:"Cart_form__PsGs4",pop:"Cart_pop__24rBx",accepted:"Cart_accepted__1WbZP",one:"Cart_one__3MlpA",bor:"Cart_bor__riUtu"}},21:function(e,t,c){e.exports={navbar:"App_navbar__OhDYY",rightNav:"App_rightNav__1z9wS",redDot:"App_redDot__3O35o",cart:"App_cart__20Hxj"}},25:function(e,t,c){e.exports={Products:"Products_Products__223t3",mainImage:"Products_mainImage__1lnf1",filterOptions:"Products_filterOptions__3k53y"}},26:function(e,t,c){e.exports={Account:"Account_Account__3yVMB",navbar:"Account_navbar__1RY3m",details:"Account_details__3dzmP",slide:"Account_slide__2R0TO"}},30:function(e,t,c){e.exports={Login:"Login_Login__2MDlJ",link:"Login_link__23kKW"}},33:function(e,t,c){e.exports={Register:"Register_Register__Lht5e",link:"Register_link__1R0NH"}},73:function(e,t,c){},75:function(e,t,c){"use strict";c.r(t);var r=c(0),n=c(1),a=c(22),o=c.n(a),i=c(21),s=c.n(i),u=c(13),l=c(4),d=c(25),j=c.n(d),b=c(14),O=c.n(b);function p(e){return Object(r.jsxs)("div",{className:O.a.product,children:[Object(r.jsx)("span",{className:O.a.heart}),Object(r.jsx)("img",{className:O.a.image,src:e.source,alt:"default"}),Object(r.jsx)("p",{className:O.a.info,children:e.info}),Object(r.jsxs)("p",{className:O.a.price,children:["$",e.price]}),Object(r.jsx)("button",{className:O.a.button,onClick:e.added,children:"Add to cart"})]})}var f=c.p+"static/media/shoes.ea240e22.jpg",h=c(12),m=c(5),x=c.n(m);c(73);function g(){return Object(r.jsxs)("div",{class:"lds-ring",children:[Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{})]})}var _=function(e){return{type:"INCREASECOUNT",payload:e}},C=Object(h.b)((function(e){return{products:e.products,cart:e.currentCart,user:e.currentUser}}),(function(e){return{setProducts:function(t){return e({type:"SETPRODUCTS",payload:t})},addToCart:function(t){return e({type:"ADDTOCART",obj:t})},increaseCount:function(t){return e(_({id:t,incdec:"increment"}))},clearCart:function(){return e((function(e){e({type:"CLEARCART"})}))}}}))((function(e){Object(n.useEffect)((function(){x.a.get("https://fakestoreapi.com/products/").then((function(t){e.setProducts(t.data)})).catch((function(e){console.error(e)}))}),[]);var t=function(t){e.setProducts(null),x.a.get("https://fakestoreapi.com/products/"+t).then((function(t){e.setProducts(t.data)})).catch((function(e){console.error(e)}))};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{style:{position:"relative"},children:Object(r.jsx)("header",{children:Object(r.jsx)("img",{src:f,alt:"default",className:j.a.mainImage})})}),Object(r.jsxs)("div",{className:j.a.filterOptions,children:[Object(r.jsx)("button",{onClick:function(){return t("")},children:"All"}),Object(r.jsx)("button",{onClick:function(){return t("/category/electronics")},children:"Electronics"}),Object(r.jsx)("button",{onClick:function(){return t("/category/men clothing")},children:"Men"}),Object(r.jsx)("button",{onClick:function(){return t("/category/women clothing")},children:"Women"}),Object(r.jsx)("button",{onClick:function(){return t("/category/jewelery")},children:"Jewelery"})]}),Object(r.jsx)("div",{className:j.a.Products,children:e.products?e.products.map((function(t){return Object(r.jsx)(p,{source:t.image,info:t.title,price:t.price,added:function(){0===e.cart.length&&e.addToCart({info:t.title,id:t.id,price:t.price,image:t.image,count:1,totalPrice:t.price});var c=e.cart.findIndex((function(e){return e.id===t.id}));-1===c&&e.cart.length>0?e.addToCart({info:t.title,id:t.id,price:t.price,image:t.image,count:1,totalPrice:t.price}):c>=0&&(e.increaseCount(t.id),e.clearCart())}},t.id)})):Object(r.jsx)(g,{})})]})})),v=c(2),y=c(10),N=c(30),k=c.n(N),I=function(e){var t=Object(n.useState)({email:"",password:""}),c=Object(y.a)(t,2),a=c[0],o=c[1],i=Object(n.useState)(""),s=Object(y.a)(i,2),l=s[0],d=s[1];return Object(r.jsxs)("div",{className:k.a.Login,children:[Object(r.jsx)("h1",{children:"Login"}),Object(r.jsx)("input",{autoComplete:"off",placeholder:"email",type:"email",onChange:function(e){return o(Object(v.a)(Object(v.a)({},a),{},{email:e.target.value}))}}),Object(r.jsx)("input",{autoComplete:"off",placeholder:"password",type:"password",onChange:function(e){return o(Object(v.a)(Object(v.a)({},a),{},{password:e.target.value}))}}),"email"===l?Object(r.jsx)("p",{style:{color:"red"},children:"Incorrect email"}):null,"pass"===l?Object(r.jsx)("p",{style:{color:"red"},children:"Incorrect password"}):null,Object(r.jsx)("button",{onClick:function(){x.a.post("login",a).then((function(e){localStorage.setItem("token",e.data.accessToken),"email"===e.data?d("email"):"pass"===e.data?d("pass"):(localStorage.setItem("token",e.data.accessToken),window.location.reload())})).catch((function(e){return console.log(e)}))},children:"Login"}),Object(r.jsxs)("p",{children:["Don't have an account?",Object(r.jsx)(u.b,{className:k.a.link,to:"/register",children:"Sign up here"})]})]})},A=c(33),T=c.n(A),E=function(e){var t=Object(n.useState)({username:"",email:"",password:""}),c=Object(y.a)(t,2),a=c[0],o=c[1],i=Object(n.useState)(""),s=Object(y.a)(i,2),d=s[0],j=s[1];return Object(r.jsxs)("div",{className:T.a.Register,children:[Object(r.jsx)("h1",{children:"Register"}),Object(r.jsx)("input",{placeholder:"nickname",type:"text",onChange:function(e){return o(Object(v.a)(Object(v.a)({},a),{},{username:e.target.value}))}}),Object(r.jsx)("input",{placeholder:"email",type:"email",onChange:function(e){return o(Object(v.a)(Object(v.a)({},a),{},{email:e.target.value}))}}),Object(r.jsx)("input",{placeholder:"password",type:"password",onChange:function(e){return o(Object(v.a)(Object(v.a)({},a),{},{password:e.target.value}))}}),"success"===d?Object(r.jsx)("p",{style:{color:"green"},children:"You registered successfuly!"}):null,"bad"===d?Object(r.jsx)("p",{style:{color:"red"},children:"Email already registered, try another one"}):null,Object(r.jsx)("button",{onClick:function(){x.a.post("/register",a).then((function(e){"success"===e.data?(j("success"),l.a):j("bad")})).catch((function(e){return console.log(e)}))},children:"Register"}),Object(r.jsxs)("p",{children:["Already registered?",Object(r.jsx)(u.b,{className:T.a.link,to:"/login",children:"Login here"})]})]})},R=c(26),P=c.n(R),S=c.p+"static/media/logo.4d9af2c1.png",w=Object(h.b)((function(e){return{user:e.currentUser}}))((function(e){var t=Object(n.useState)(""),c=Object(y.a)(t,2),a=c[0],o=c[1];return Object(n.useEffect)((function(){o("details")}),[]),Object(r.jsx)("div",{className:P.a.Account,children:Object(r.jsxs)("div",{className:P.a.navbar,children:[Object(r.jsx)("button",{onClick:function(){return o("details")},children:"Details"}),Object(r.jsx)("button",{onClick:function(){return o("orders")},children:"Orders"}),Object(r.jsx)("button",{onClick:function(){return o("favourites")},children:"Favourites"}),Object(r.jsx)("button",{onClick:function(){localStorage.clear(),window.location.reload()},children:"Logout"}),"details"===a?Object(r.jsxs)("div",{className:P.a.details,children:[Object(r.jsx)("img",{src:S,alt:"default"}),Object(r.jsxs)("p",{children:["ID: ",e.user._id]}),Object(r.jsxs)("p",{children:["Email: ",e.user.email]}),Object(r.jsxs)("p",{children:["Nickname: ",e.user.username]})]}):null]})})})),U=c(15),L=c.n(U);function D(e){return Object(r.jsxs)("div",{className:L.a.CartItem,children:[Object(r.jsx)("div",{className:L.a.x,onClick:e.remove}),Object(r.jsx)("img",{src:e.image,alt:"error"}),Object(r.jsxs)("div",{className:L.a.about,children:[Object(r.jsx)("p",{className:L.a.info,children:e.info}),Object(r.jsx)("p",{style:{color:"green"},children:"In Stock"})]}),Object(r.jsxs)("div",{className:L.a.count,children:[Object(r.jsx)("button",{onClick:e.decrement,children:"-"})," ",Object(r.jsxs)("p",{children:[e.count," "]}),Object(r.jsx)("button",{onClick:e.increment,children:"+"})]}),Object(r.jsxs)("div",{className:L.a.price,children:[Object(r.jsx)("p",{style:{marginBottom:"1px"},children:"total price:"}),Object(r.jsxs)("p",{style:{marginTop:"1px"},children:["$",e.totalPrice]})]})]})}var F=c(18),M=c.n(F),J=Object(h.b)((function(e){return{cart:e.currentCart}}),(function(e){return{increaseCount:function(t,c){return e(_({id:t,incdec:c}))},removeItem:function(t){return e({type:"REMOVEITEM",payload:{id:t}})},clearCart:function(){return e((function(e){e({type:"CLEARCART"})}))},totalClear:function(){return e({type:"TOTALCLEAR"})}}}))((function(e){var t=Object(n.useState)(!1),c=Object(y.a)(t,2),a=c[0],o=c[1],i=Object(n.useState)(!1),s=Object(y.a)(i,2),u=s[0],l=s[1],d=Object(n.useState)({name:"",email:"",address:""}),j=Object(y.a)(d,2),b=j[0],O=j[1];return Object(r.jsxs)("div",{children:[u?Object(r.jsx)("div",{children:Object(r.jsx)("h1",{style:{textAlign:"center",marginTop:"15px"},className:M.a.accepted,children:"Thank you for ordering! Check your email for order details or go to Account"})}):null,e.cart.length>0&&!u?e.cart.map((function(t){if("number"!==typeof t)return Object(r.jsx)(D,{info:t.info,count:t.count,totalPrice:t.totalPrice.toFixed(2),image:t.image,increment:function(){e.increaseCount(t.id,"increment"),e.clearCart()},decrement:function(){e.increaseCount(t.id,"decrement"),e.clearCart()},remove:function(){return e.removeItem(t.id)}},t.id)})):null,0!==e.cart.length||u?null:Object(r.jsx)("h1",{className:M.a.empty,children:"Your cart is empty, add some items!"}),a?Object(r.jsx)("div",{className:M.a.orderForm,children:Object(r.jsxs)("div",{className:M.a.form,children:[Object(r.jsx)("input",{type:"text",placeholder:"Full name",onChange:function(e){return O(Object(v.a)(Object(v.a)({},b),{},{name:e.target.value}))}}),Object(r.jsx)("input",{type:"text",placeholder:"Email",onChange:function(e){return O(Object(v.a)(Object(v.a)({},b),{},{email:e.target.value}))}}),Object(r.jsx)("input",{type:"text",placeholder:"Address",onChange:function(e){return O(Object(v.a)(Object(v.a)({},b),{},{address:e.target.value}))}}),Object(r.jsxs)("p",{children:["Total to pay: $",e.cart.reduce((function(e,t){return e+t.totalPrice}),0).toFixed(2)]}),Object(r.jsx)("button",{onClick:function(){var t;t={content:{itemsInfo:e.cart.map((function(e){return"".concat(e.count,"x ").concat(e.info," - $").concat(e.price)})),totalPrice:e.cart.reduce((function(e,t){return e+t.totalPrice}),0).toFixed(2)},userInfo:b},x.a.post("email",t).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})),l(!0),o(!1),e.totalClear(),setTimeout((function(){l(!1)}),6e3)},children:"Send order"})]})}):null,e.cart.length>0&&!a&&!u?Object(r.jsxs)("div",{className:M.a.order,children:[Object(r.jsx)("button",{onClick:function(){o(!0)},children:"Order now"}),Object(r.jsxs)("p",{children:["total price: $",e.cart.reduce((function(e,t){return e+t.totalPrice}),0).toFixed(2)]})]}):null]})})),B=Object(h.b)((function(e){return{currentUser:e.currentUser,loggedIn:e.loggedIn,cart:e.currentCart}}),(function(e){return{setCurrentUser:function(t){return e({type:"SETCURRENTUSER",payload:t})}}}))((function(e){return Object(n.useEffect)((function(){x.a.get("user").then((function(t){e.setCurrentUser(t.data)})).catch((function(e){return console.log(e)}))}),[]),Object(r.jsx)(u.a,{children:Object(r.jsxs)("div",{className:s.a.App,children:[Object(r.jsx)("header",{children:Object(r.jsxs)("div",{className:s.a.navbar,children:[Object(r.jsx)(u.b,{to:"/",children:"Home"}),e.currentUser.username?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(u.b,{style:{float:"right"},to:"/account",children:"Account"}),Object(r.jsxs)(u.b,{style:{float:"right"},className:s.a.cart,to:"/cart",children:[e.cart.length>0?Object(r.jsx)("div",{className:s.a.redDot,children:e.cart.length}):null,"Cart"]})]}):Object(r.jsx)(u.b,{style:{float:"right"},to:"/login",children:"Login"})]})}),Object(r.jsx)(l.b,{exact:!0,path:"/",component:C}),Object(r.jsx)(l.b,{path:"/login",exact:!0,children:!1===e.loggedIn?Object(r.jsx)(I,{}):Object(r.jsx)(l.a,{to:"/"})}),Object(r.jsx)(l.b,{path:"/register",exact:!0,component:E}),Object(r.jsx)(l.b,{path:"/account",exact:!0,children:e.loggedIn?Object(r.jsx)(w,{}):Object(r.jsx)(l.a,{to:"/login"})}),Object(r.jsx)(l.b,{path:"/cart",exact:!0,children:e.loggedIn?Object(r.jsx)(J,{}):Object(r.jsx)(l.a,{to:"/login"})})]})})})),H=c(17),Y=c(34),W={currentUser:{},loggedIn:!1,products:[],currentCart:[]},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETCURRENTUSER":return Object(v.a)(Object(v.a)({},e),{},{currentUser:t.payload,loggedIn:!0});case"SETPRODUCTS":return Object(v.a)(Object(v.a)({},e),{},{products:t.payload});case"ADDTOCART":return Object(v.a)(Object(v.a)({},e),{},{currentCart:e.currentCart.concat(t.obj)});case"INCREASECOUNT":var c=t.payload.id,r=t.payload.incdec,n=e.currentCart.findIndex((function(e){return e.id===c})),a=e.currentCart[n].count;if("increment"===r)return Object(v.a)(Object(v.a)({},e),{},{currentCart:[].concat(Object(Y.a)(e.currentCart),[e.currentCart[n].count+=1,e.currentCart[n].totalPrice=e.currentCart[n].price*e.currentCart[n].count])});if("decrement"===r&&a>1)return Object(v.a)(Object(v.a)({},e),{},{currentCart:[].concat(Object(Y.a)(e.currentCart),[e.currentCart[n].count-=1,e.currentCart[n].totalPrice=e.currentCart[n].price*e.currentCart[n].count])});case"REMOVEITEM":var o=e.currentCart.findIndex((function(e){return e.id===t.payload.id}));return Object(v.a)(Object(v.a)({},e),{},{currentCart:e.currentCart.filter((function(e,t){return t!==o}))});case"CLEARCART":var i=e.currentCart.filter((function(e){return"number"!==typeof e}));return Object(v.a)(Object(v.a)({},e),{},{currentCart:i});case"TOTALCLEAR":return Object(v.a)(Object(v.a)({},e),{},{currentCart:[]});default:return e}},z=c(45);x.a.defaults.baseURL="https://chris-mern-shop.herokuapp.com/",x.a.defaults.headers.common.Authorization="Bearer "+localStorage.getItem("token");var V=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||H.c,K=Object(H.d)($,V(Object(H.a)(z.a)));o.a.render(Object(r.jsx)(h.a,{store:K,children:Object(r.jsx)(B,{})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.932a410b.chunk.js.map