(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{16:function(t,e,n){t.exports={product:"Product_product__2JDZ1",info:"Product_info__3yQ6t",image:"Product_image__17Ixd",price:"Product_price__2Y01u"}},17:function(t,e,n){t.exports={CartItem:"CartItem_CartItem__N7Hv9",about:"CartItem_about__fJUw8",count:"CartItem_count__1HjTe",price:"CartItem_price__2ATCW",x:"CartItem_x__3Hxlr"}},23:function(t,e,n){t.exports={Products:"Products_Products__223t3",mainImage:"Products_mainImage__1lnf1",filterOptions:"Products_filterOptions__3k53y"}},26:function(t,e,n){t.exports={navbar:"App_navbar__OhDYY",rightNav:"App_rightNav__1z9wS"}},28:function(t,e,n){t.exports={Login:"Login_Login__2MDlJ",link:"Login_link__23kKW"}},31:function(t,e,n){t.exports={form:"AddItem_form__2qGeZ",button:"AddItem_button__22a3K"}},32:function(t,e,n){t.exports={Register:"Register_Register__Lht5e",link:"Register_link__1R0NH"}},44:function(t,e,n){t.exports={Account:"Account_Account__3yVMB"}},73:function(t,e,n){},75:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n(1),a=n(20),i=n.n(a),o=n(26),s=n.n(o),u=n(12),l=n(4),j=n(13),d=n(23),b=n.n(d),O=n(16),p=n.n(O);function m(t){return Object(c.jsxs)("div",{className:p.a.product,children:[Object(c.jsx)("img",{className:p.a.image,src:t.source,alt:"default"}),Object(c.jsx)("p",{className:p.a.info,children:t.info}),Object(c.jsxs)("p",{className:p.a.price,children:["$",t.price]}),Object(c.jsx)("button",{className:p.a.button,onClick:t.added,children:"Add to cart"})]})}var f=n.p+"static/media/shoes.ea240e22.jpg",h=n(10),g=n(7),x=n.n(g);n(73);function C(){return Object(c.jsxs)("div",{class:"lds-ring",children:[Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{})]})}var _=n(33),v=n(2),I={currentUser:{},loggedIn:!1,products:[],currentCart:[]},y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADDITEM":return{items:t.items.concat(e.payload)};case"SETCURRENTUSER":return Object(v.a)(Object(v.a)({},t),{},{currentUser:e.user,loggedIn:!0});case"SETPRODUCTS":return Object(v.a)(Object(v.a)({},t),{},{products:e.products});case"ADDTOCART":return Object(v.a)(Object(v.a)({},t),{},{currentCart:t.currentCart.concat(e.obj)});case"INCREASECOUNT":var n=t.currentCart.findIndex((function(t){return t.id===e.id})),c=t.currentCart[n].count;if("increment"===e.incdec)return Object(v.a)(Object(v.a)({},t),{},{currentCart:[].concat(Object(_.a)(t.currentCart),[t.currentCart[n].count+=1,t.currentCart[n].totalPrice=t.currentCart[n].price*t.currentCart[n].count])});if("decrement"===e.incdec&&c>1)return Object(v.a)(Object(v.a)({},t),{},{currentCart:[].concat(Object(_.a)(t.currentCart),[t.currentCart[n].count-=1,t.currentCart[n].totalPrice=t.currentCart[n].price*t.currentCart[n].count])});case"REMOVEITEM":console.log("trying to remove");var r=t.currentCart.findIndex((function(t){return t.id===e.id}));return Object(v.a)(Object(v.a)({},t),{},{currentCart:t.currentCart.filter((function(t,e){return e!==r}))});default:return t}},N=Object(h.b)((function(t){return{products:t.products,cart:t.currentCart}}),(function(t){return{setProducts:function(e){return t({type:"SETPRODUCTS",products:e})},addToCart:function(e){return t({type:"ADDTOCART",obj:e})},increaseCount:function(e){return t({type:"INCREASECOUNT",id:e,incdec:"increment"})}}}))((function(t){var e=Object(r.useState)(!1),n=Object(j.a)(e,2),a=(n[0],n[1]);Object(r.useEffect)((function(){a(!0),x.a.get("https://fakestoreapi.com/products/").then((function(e){t.setProducts(e.data),a(!1)})).catch((function(t){console.error(t)}))}),[]);var i=function(e){t.setProducts(null),x.a.get("https://fakestoreapi.com/products/"+e).then((function(e){t.setProducts(e.data)})).catch((function(t){console.error(t)}))};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{style:{position:"relative"},children:Object(c.jsx)("header",{children:Object(c.jsx)("img",{src:f,alt:"default",className:b.a.mainImage})})}),Object(c.jsxs)("div",{className:b.a.filterOptions,children:[Object(c.jsx)("button",{onClick:function(){return i("")},children:"All"}),Object(c.jsx)("button",{onClick:function(){return i("/category/electronics")},children:"Electronics"}),Object(c.jsx)("button",{onClick:function(){return i("/category/men clothing")},children:"Men"}),Object(c.jsx)("button",{onClick:function(){return i("/category/women clothing")},children:"Women"}),Object(c.jsx)("button",{onClick:function(){return i("/category/jewelery")},children:"Jewelery"})]}),Object(c.jsx)("div",{className:b.a.Products,children:t.products?t.products.map((function(e){return Object(c.jsx)(m,{source:e.image,info:e.title,price:e.price,added:function(){0===t.cart.length&&t.addToCart({info:e.title,id:e.id,price:e.price,image:e.image,count:1,totalPrice:e.price});var n=t.cart.findIndex((function(t){return t.id===e.id}));-1===n&&t.cart.length>0?t.addToCart({info:e.title,id:e.id,price:e.price,image:e.image,count:1,totalPrice:e.price}):n>=0&&t.increaseCount(e.id)}},e.id)})):Object(c.jsx)(C,{})})]})})),E=n(28),k=n.n(E),T=function(t){var e=Object(r.useState)({email:"",password:""}),n=Object(j.a)(e,2),a=n[0],i=n[1];return Object(c.jsxs)("div",{className:k.a.Login,children:[Object(c.jsx)("h1",{children:"Login"}),Object(c.jsx)("input",{placeholder:"email",type:"email",onChange:function(t){return i(Object(v.a)(Object(v.a)({},a),{},{email:t.target.value}))}}),Object(c.jsx)("input",{placeholder:"password",type:"password",onChange:function(t){return i(Object(v.a)(Object(v.a)({},a),{},{password:t.target.value}))}}),Object(c.jsx)("button",{onClick:function(){x.a.post("login",a).then((function(t){localStorage.setItem("token",t.data.accessToken),window.location.reload()})).catch((function(t){return console.log(t)}))},children:"Login"}),Object(c.jsxs)("p",{children:["Don't have an account?",Object(c.jsx)(u.b,{className:k.a.link,to:"/register",children:"Sign up here"})]})]})},A=n(31),P=n.n(A),R=(Object(h.b)((function(t){return{items:t.items}}),(function(t){return{addItem:function(e,n,c){return t({type:"ADDITEM",payload:{img:e,price:n,info:c}})}}}))((function(t){var e=Object(r.useState)({img:"",price:"",info:""}),n=Object(j.a)(e,2),a=n[0],i=n[1];return Object(c.jsxs)("div",{className:P.a.form,children:[Object(c.jsx)("input",{placeholder:"Image URL",type:"text",onChange:function(t){return i(Object(v.a)(Object(v.a)({},a),{},{img:t.target.value}))}}),Object(c.jsx)("input",{placeholder:"Price",type:"text",onChange:function(t){return i(Object(v.a)(Object(v.a)({},a),{},{price:t.target.value}))}}),Object(c.jsx)("input",{placeholder:"Info",type:"text",onChange:function(t){return i(Object(v.a)(Object(v.a)({},a),{},{info:t.target.value}))}}),Object(c.jsx)("button",{className:P.a.button,onClick:function(){return t.addItem(a.img,a.price,a.info)},children:"Add Product"})]})})),n(32)),S=n.n(R),w=function(t){var e=Object(r.useState)({username:"",email:"",password:""}),n=Object(j.a)(e,2),a=n[0],i=n[1];return Object(c.jsxs)("div",{className:S.a.Register,children:[Object(c.jsx)("h1",{children:"Register"}),Object(c.jsx)("input",{placeholder:"nickname",type:"text",onChange:function(t){return i(Object(v.a)(Object(v.a)({},a),{},{username:t.target.value}))}}),Object(c.jsx)("input",{placeholder:"email",type:"email",onChange:function(t){return i(Object(v.a)(Object(v.a)({},a),{},{email:t.target.value}))}}),Object(c.jsx)("input",{placeholder:"password",type:"password",onChange:function(t){return i(Object(v.a)(Object(v.a)({},a),{},{password:t.target.value}))}}),Object(c.jsx)("button",{onClick:function(){x.a.post("register",a).then((function(t){return console.log(t)})).catch((function(t){return console.log(t)}))},children:"Register"}),Object(c.jsxs)("p",{children:["Already registered?",Object(c.jsx)(u.b,{className:S.a.link,to:"/login",children:"Login here"})]})]})},U=n(44),D=n.n(U),L=Object(h.b)((function(t){return{user:t.currentUser}}))((function(t){return Object(c.jsxs)("div",{className:D.a.Account,children:[Object(c.jsx)("h1",{children:"Account info"}),Object(c.jsxs)("p",{children:["ID: ",t.user._id]}),Object(c.jsxs)("p",{children:["Email: ",t.user.email]}),Object(c.jsxs)("p",{children:["Username: ",t.user.username]}),Object(c.jsx)("button",{onClick:function(){localStorage.clear(),window.location.reload()},children:"Logout"})]})})),M=n(17),J=n.n(M);function H(t){return Object(c.jsxs)("div",{className:J.a.CartItem,children:[Object(c.jsx)("div",{className:J.a.x,onClick:t.remove}),Object(c.jsx)("img",{src:t.image,alt:"error"}),Object(c.jsxs)("div",{className:J.a.about,children:[Object(c.jsx)("p",{children:t.info}),Object(c.jsx)("p",{style:{color:"green"},children:"In Stock"})]}),Object(c.jsxs)("div",{className:J.a.count,children:[Object(c.jsx)("button",{onClick:t.decrement,children:"-"})," ",Object(c.jsxs)("p",{children:[t.count," "]}),Object(c.jsx)("button",{onClick:t.increment,children:"+"})]}),Object(c.jsxs)("div",{className:J.a.price,children:[Object(c.jsx)("p",{style:{marginBottom:"1px"},children:"total price:"}),Object(c.jsxs)("p",{style:{marginTop:"1px"},children:["$",t.totalPrice]})]})]})}var B=Object(h.b)((function(t){return{cart:t.currentCart}}),(function(t){return{increaseCount:function(e,n){return t({type:"INCREASECOUNT",id:e,incdec:n})},removeItem:function(e){return t({type:"REMOVEITEM",id:e})}}}))((function(t){return Object(c.jsx)("div",{children:t.cart?t.cart.map((function(e){if("number"!==typeof e)return Object(c.jsx)(H,{info:e.info,count:e.count,totalPrice:e.totalPrice.toFixed(2),image:e.image,increment:function(){return t.increaseCount(e.id,"increment")},decrement:function(){return t.increaseCount(e.id,"decrement")},remove:function(){return t.removeItem(e.id)}},e.id)})):Object(c.jsx)("h1",{style:{margin:"0 auto",marginTop:"30px"},children:"Start adding items to your cart!"})})})),V=Object(h.b)((function(t){return{currentUser:t.currentUser,loggedIn:t.loggedIn}}),(function(t){return{setCurrentUser:function(e){return t({type:"SETCURRENTUSER",user:e})}}}))((function(t){return Object(r.useEffect)((function(){x.a.get("user").then((function(e){t.setCurrentUser(e.data)})).catch((function(t){return console.log(t)}))}),[]),Object(c.jsx)(u.a,{children:Object(c.jsxs)("div",{className:s.a.App,children:[Object(c.jsx)("header",{children:Object(c.jsxs)("div",{className:s.a.navbar,children:[Object(c.jsx)(u.b,{to:"/",children:"Home"}),t.currentUser.username?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(u.b,{style:{float:"right"},to:"/account",children:"Account"}),Object(c.jsx)(u.b,{style:{float:"right"},to:"/cart",children:"Cart"})]}):Object(c.jsx)(u.b,{style:{float:"right"},to:"/login",children:"Login"})]})}),Object(c.jsx)(l.b,{exact:!0,path:"/",children:t.loggedIn?Object(c.jsx)(N,{}):Object(c.jsx)(l.a,{to:"/login"})}),Object(c.jsxs)(l.b,{path:"/login",exact:!0,component:T,children:[" ",!1===t.loggedIn?Object(c.jsx)(T,{}):Object(c.jsx)(l.a,{to:"/"})]}),Object(c.jsx)(l.b,{path:"/register",exact:!0,component:w}),Object(c.jsx)(l.b,{path:"/account",exact:!0,children:t.loggedIn?Object(c.jsx)(L,{}):Object(c.jsx)(l.a,{to:"/login"})}),Object(c.jsx)(l.b,{path:"/cart",exact:!0,component:B})]})})})),F=n(15),W=n(45);x.a.defaults.baseURL="https://chris-mern-shop.herokuapp.com/",x.a.defaults.headers.common.Authorization="Bearer "+localStorage.getItem("token");var Y=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||F.c,z=Object(F.d)(y,Y(Object(F.a)(W.a)));i.a.render(Object(c.jsx)(h.a,{store:z,children:Object(c.jsx)(V,{})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.9b66c0f8.chunk.js.map